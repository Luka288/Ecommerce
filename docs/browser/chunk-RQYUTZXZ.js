import{a as F}from"./chunk-NLCOH7YT.js";import{a as E}from"./chunk-RZZODV5Y.js";import{a as I}from"./chunk-M7S7FXHD.js";import{f as W}from"./chunk-5PI7YWHP.js";import{j as T}from"./chunk-L5CZSWL3.js";import{Fb as p,Hb as O,Kb as S,La as h,Oa as s,Yb as b,Z as m,fb as _,ga as d,hb as g,ka as M,lb as x,pb as r,pc as w,qb as a,qc as y,rb as f,sb as v,ta as C,tc as k,ua as P,ub as u,vb as l}from"./chunk-OEXLNGRT.js";function z(e,o){e&1&&f(0,"img",1)}function B(e,o){if(e&1){let i=v();r(0,"div",7)(1,"div",8)(2,"img",9),u("click",function(){let n=C(i).$implicit,c=l(3);return P(c.navigate(n._id))}),a(),r(3,"p"),p(4),a()(),r(5,"div",10)(6,"button",11),u("click",function(){let n=C(i).index,c=l(3);return P(c.removeWishlisted(n))}),p(7," Remove Item "),a(),r(8,"button",12),u("click",function(){let n=C(i),c=n.$implicit,j=n.index,V=l(3);return P(V.moveToCart(c,j))}),p(9," Move To cart "),a()()()}if(e&2){let i=o.$implicit;s(2),g("src",i.thumbnail,h),s(2),O(" ",i.title," ")}}function $(e,o){if(e&1&&(r(0,"div",13)(1,"h1"),p(2),a()()),e&2){let i=l(3);s(2),O("Total wishlisted items: ",i.listenStream.length,"")}}function D(e,o){if(e&1&&(r(0,"div",2),_(1,B,10,2,"div",3),a(),r(2,"div",4),_(3,$,3,1,"div",5),r(4,"div",6),f(5,"h1"),a()()),e&2){let i=l(2);s(),g("ngForOf",i.listenStream),s(2),g("ngIf",i.listenStream)}}function R(e,o){if(e&1&&(r(0,"section"),_(1,z,1,0,"img",1)(2,D,6,2),a()),e&2){let i=l();s(),x(i.listenStream.length==0?1:2)}}var Q=(()=>{let o=class o{constructor(){this.wishlist=d(E),this.alert=d(W),this.productService=d(F),this.cartService=d(I),this.ref=d(b),this.router=d(T),this.listenStream=[]}ngOnInit(){this.loadFromStream()}loadFromStream(){this.wishlist.savedItem$.pipe(m(t=>{t&&(this.listenStream=t,console.log(this.listenStream),t.forEach(n=>this.loadProduct(n._id)))})).subscribe()}removeWishlisted(t){this.wishlist.removeItem(t),this.ref.markForCheck(),this.alert.toast("Item removed","success","green")}loadProduct(t){this.productService.loadProduct(t).pipe(m(n=>{}))}moveToCart(t,n){if(t.stock==0){this.alert.toast("We're currently out of stock on this product.","error","red");return}this.cartService.isCartCreated==!1?this.cartService.updateCart(t._id)?.pipe(m(c=>{this.removeWishlisted(n),console.log(c)})).subscribe():this.cartService.createCart(t._id,1)?.pipe(m(c=>{console.log(c),this.removeWishlisted(n)})).subscribe()}navigate(t){this.router.navigateByUrl(`/product/id/${t}`)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=M({type:o,selectors:[["app-wishlist-page"]],standalone:!0,features:[S],decls:2,vars:1,consts:[[4,"ngIf"],["src","https://lh6.googleusercontent.com/proxy/5TuO20js9k1n4Rz56mpP9YGJwkf6Pt5XLo1C47iwG1ipdla3ndeo738sDhhwshpLbwAaBao","alt",""],[1,"productSide"],["class","itemCard",4,"ngFor","ngForOf"],[1,"infoSide"],["class","title",4,"ngIf"],[1,"upperSide"],[1,"itemCard"],[1,"imgTitle"],["alt","",3,"click","src"],[1,"buttons"],[1,"removeButton",3,"click"],[1,"addTocart",3,"click"],[1,"title"]],template:function(n,c){n&1&&(r(0,"main"),_(1,R,3,1,"section",0),a()),n&2&&(s(),g("ngIf",c.listenStream))},dependencies:[k,w,y],styles:["main[_ngcontent-%COMP%]{width:100%;padding-top:3%;display:flex;justify-content:center}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{width:100%;gap:50px;display:flex;justify-content:center;align-items:center}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:50%}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]{display:flex;background-color:#f8f8ff;height:auto}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .imgTitle[_ngcontent-%COMP%]{display:flex;align-items:center}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .imgTitle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;cursor:pointer}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .imgTitle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;width:150px;max-width:150px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;gap:20px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:20px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .removeButton[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:1px solid gray;transition:.3s ease-out}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .removeButton[_ngcontent-%COMP%]:hover{background-color:#c90d0d;transition:.3s ease-in;border:none}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .addTocart[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:1px solid gray;transition:.3s ease-out}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .addTocart[_ngcontent-%COMP%]:hover{color:#fff;background-color:#006100;border:none}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .infoSide[_ngcontent-%COMP%]{width:650px;height:300px;display:flex;justify-content:center;background-color:#f8dca8}@media (max-width: 1440px){main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex-wrap:wrap}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .infoSide[_ngcontent-%COMP%]{position:fixed;box-sizing:border-box;bottom:0;left:0;width:100%;height:65px;max-height:65px;z-index:1100}}@media (max-width: 425px){main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:block}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]{margin:8%}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .productSide[_ngcontent-%COMP%]   .itemCard[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}"]});let e=o;return e})();export{Q as default};
