import{a as T}from"./chunk-RZZODV5Y.js";import{a as E}from"./chunk-M7S7FXHD.js";import{a as y,e as b,f as w}from"./chunk-5PI7YWHP.js";import{a as v,b as S}from"./chunk-L5CZSWL3.js";import{Fb as l,Hb as c,I as x,Kb as P,La as h,Oa as o,Z as f,aa as C,fb as d,ga as p,hb as _,ka as u,lb as g,pb as i,qb as r,qc as M,rb as I,tc as O,vb as m}from"./chunk-OEXLNGRT.js";var k=(()=>{let e=class e{constructor(){this.http=p(S),this.url=y}getUser(){let a=localStorage.getItem(b.AccessToken),s=new v().set("Authorization",`Bearer ${a}`);return this.http.get(`${this.url}/auth`,{headers:s})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z(t,e){if(t&1&&(i(0,"section",3)(1,"div",4),I(2,"img",5),i(3,"h1"),l(4),r()()()),t&2){let n=m(2);o(2),_("src",n.profileInfo.avatar,h),o(2),c("Hello ",n.profileInfo.firstName,"")}}function W(t,e){t&1&&(i(0,"p"),l(1,"Wishlisted items: 0"),r())}function F(t,e){if(t&1&&(i(0,"p"),l(1),r()),t&2){let n=m(3);o(),c("Wishlisted items: ",n.items.length,"")}}function H(t,e){t&1&&(i(0,"p"),l(1,"On cart items 0"),r())}function N(t,e){if(t&1&&(i(0,"p"),l(1),r()),t&2){let n=m(3);o(),c("On cart items ",n.cartItems.total.quantity,"")}}function V(t,e){if(t&1&&(i(0,"section",6)(1,"div",7)(2,"p"),l(3),r(),i(4,"p"),l(5),r(),i(6,"p"),l(7),r(),i(8,"p"),l(9),r(),i(10,"p"),l(11),r(),i(12,"p"),l(13),r()(),i(14,"div",8),d(15,W,2,0,"p")(16,F,2,1,"p")(17,H,2,0,"p")(18,N,2,1,"p"),r()()),t&2){let n=m(2);o(3),c("User ID: ",n.profileInfo._id,""),o(2),c("First name: ",n.profileInfo.firstName,""),o(2),c("Last name ",n.profileInfo.lastName,""),o(2),c("Email: ",n.profileInfo.email,""),o(2),c("Gender: ",n.profileInfo.gender,""),o(2),c("Phone: ",n.profileInfo.phone,""),o(2),g(n.items.length==null?15:16),o(2),g(n.cartItems==null?17:18)}}function A(t,e){if(t&1&&d(0,z,5,2,"section",1)(1,V,19,8,"section",2),t&2){let n=m();_("ngIf",n.profileInfo),o(),_("ngIf",n.profileInfo)}}function D(t,e){t&1&&(i(0,"section",0)(1,"h1"),l(2,"You must verify email first Check Email"),r()())}var it=(()=>{let e=class e{constructor(){this.userInfo=p(k),this.wishlist=p(T),this.cart=p(E),this.alert=p(w),this.profileInfo=null,this.items=[],this.cartItems=null,this.checkVerify=!1}ngOnInit(){this.loadUser(),this.getWishlist()}getWishlist(){this.wishlist.savedItem$.pipe(f(a=>{this.items=a})).subscribe()}getCartItems(){this.cart.getCart()?.pipe(f(a=>{console.log(a),this.cartItems=a})).subscribe()}loadUser(){this.userInfo.getUser().pipe(f(a=>{this.checkVerify=!0,this.profileInfo=a}),x(a=>(console.error("Error loading user:",a.error.error),a.error.error==="User needs to verify email"&&console.log(this.checkVerify),"false"))).subscribe()}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=u({type:e,selectors:[["app-profile"]],standalone:!0,features:[P],decls:3,vars:1,consts:[[1,"verify"],["class","upperSection",4,"ngIf"],["class","userInfo",4,"ngIf"],[1,"upperSection"],[1,"title"],["alt","",3,"src"],[1,"userInfo"],[1,"wrapper"],[1,"wishCart"]],template:function(s,U){s&1&&(i(0,"main"),d(1,A,2,2)(2,D,3,0,"section",0),r()),s&2&&(o(),g(U.checkVerify?1:2))},dependencies:[O,M],styles:["main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;flex-wrap:wrap;padding:4% 0}main[_ngcontent-%COMP%]   .upperSection[_ngcontent-%COMP%]{width:85%;padding:15px 25px;border-left:4px solid #28a745;margin-bottom:25px;border-radius:5px;display:flex;align-items:center;gap:15px}main[_ngcontent-%COMP%]   .upperSection[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center}main[_ngcontent-%COMP%]   .upperSection[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;color:#343a40}main[_ngcontent-%COMP%]   .upperSection[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover}main[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]{width:85%;padding:20px 30px;border-radius:5px;background-color:#fff;border-left:4px solid #007bff;box-shadow:0 2px 8px #0000001a}main[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:20px}main[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:12px;line-height:1.6;color:#495057}main[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .wishCart[_ngcontent-%COMP%]{display:flex;justify-content:space-around}main[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .wishCart[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{font-size:1.1rem;color:#212529}"]});let t=e;return t})();export{it as default};
