import{a as q}from"./chunk-P5BDINHA.js";import{a as N}from"./chunk-CWPM2VRP.js";import{a as J}from"./chunk-OWRSK3BD.js";import{a as H}from"./chunk-4GTL5XND.js";import{b as F,j as $,l as L,m as D,o as A,r as R,s as W}from"./chunk-C23PGWET.js";import{k as z,o as j}from"./chunk-OMOQWELU.js";import{$b as E,Ab as v,Hb as s,Ib as h,Jb as f,Kb as I,Mb as T,Na as w,Nb as V,Qa as l,Ra as y,ba as S,ha as C,hb as P,jb as u,la as b,lb as k,nb as x,rb as c,sb as r,tb as O,ub as M,va as p,wa as _,wb as g,xb as d}from"./chunk-KZ3HFMOA.js";var U=(()=>{let a=class a{constructor(){this.http=C(F),this.url=D}getCategories(n,t,i){return this.http.get(`${this.url}/shop/products/category/${n}?page_index=${t}&page_size=${i}`)}};a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=S({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var Q=()=>[];function B(o,a){o&1&&(c(0,"div",0),O(1,"ngx-cube-loader",1),c(2,"h1"),s(3,"LOADING..."),r()())}function K(o,a){if(o&1){let e=M();c(0,"button",23),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.passitemTrack?i.passItem(t._id,1):i.updateCart(t._id,1))}),s(1," Add to cart "),r(),c(2,"button",24),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.addWishlist(t))}),s(3," Add to wishlist "),r()}o&2&&u("disabled",!0)}function X(o,a){if(o&1){let e=M();c(0,"button",23),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.passitemTrack?i.passItem(t._id,1):i.updateCart(t._id,1))}),s(1," Add to cart "),r(),c(2,"button",24),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.addWishlist(t))}),s(3," Add to wishlist "),r()}o&2&&u("disabled",!1)}function Y(o,a){if(o&1&&(c(0,"div",18),O(1,"img",19),c(2,"h4",20)(3,"s"),s(4),r(),c(5,"span",21),s(6),r(),s(7),r(),c(8,"p"),s(9),r(),P(10,K,4,1)(11,X,4,1),c(12,"a",22),s(13,"View Product"),r()()),o&2){let e=a.$implicit;l(),u("src",e.thumbnail,w)("alt",e.title),l(3),h(e.price.beforeDiscount),l(2),h(e.price.current),l(),f(" ",e.price.currency," "),l(2),h(e.title),l(),x(e.stock===0?10:11),l(2),v("routerLink","/product/id/",e._id,"")}}function Z(o,a){if(o&1&&(c(0,"s"),s(1),r(),c(2,"span",21),s(3),r(),s(4)),o&2){let e=d().$implicit;l(),h(e.price.beforeDiscount),l(2),h(e.price.current),l(),f(" ",e.price.currency," ")}}function tt(o,a){if(o&1&&s(0),o&2){let e=d().$implicit;I(" ",e.price.current,"",e.price.currency," ")}}function nt(o,a){if(o&1){let e=M();c(0,"button",23),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.passitemTrack?i.updateCart(t._id,1):i.passItem(t._id,1))}),s(1," Add to cart "),r(),c(2,"button",24),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.addWishlist(t))}),s(3," Add to wishlist "),r()}o&2&&u("disabled",!0)}function et(o,a){if(o&1){let e=M();c(0,"button",23),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.passitemTrack?i.updateCart(t._id,1):i.passItem(t._id,1))}),s(1," Add to cart "),r(),c(2,"button",24),g("click",function(){p(e);let t=d().$implicit,i=d(2);return _(i.addWishlist(t))}),s(3," Add to wishlist "),r()}o&2&&u("disabled",!1)}function it(o,a){if(o&1&&(c(0,"div",25),O(1,"img",19),c(2,"h4",20),P(3,Z,5,3)(4,tt,1,2),r(),c(5,"p"),s(6),r(),P(7,nt,4,1)(8,et,4,1),c(9,"a",26),s(10,"View Product"),r()()),o&2){let e=a.$implicit;l(),u("src",e.thumbnail,w)("alt",e.title),l(2),x(e.price.discountPercentage?3:4),l(3),f(" ",e.title," "),l(),x(e.stock===0?7:8),l(2),v("routerLink","/product/id/",e._id,"")}}function ot(o,a){if(o&1){let e=M();c(0,"li",27)(1,"a",28),g("click",function(t){let i=p(e).index,m=d(2);return _(m.pageChange(i+1,t))}),s(2),r()()}if(o&2){let e=a.index,n=d(2);k("active",n.config.pageIndex===e+1)("disabled",n.config.totalItems===n.config.pageSize),l(2),h(e+1)}}function ct(o,a){if(o&1){let e=M();c(0,"section",2)(1,"div",3)(2,"div",4)(3,"h1"),s(4,"Discounted Products"),r()(),c(5,"div",5),P(6,Y,14,9,"div",6),r()()(),c(7,"section",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h1",11),s(12,"categories"),r(),c(13,"a",12),g("click",function(){p(e);let t=d();return _(t.loadProducts(1,t.config.pageSize))}),s(14,"Reset"),r(),c(15,"a",12),g("click",function(){p(e);let t=d();return _(t.getCategory(2,t.config.pageSize,1))}),s(16,"Phones"),r(),c(17,"a",12),g("click",function(){p(e);let t=d();return _(t.getCategory(1,t.config.pageSize,1))}),s(18,"Laptops"),r()()()(),c(19,"div",13),P(20,it,11,7,"div",14),r()(),c(21,"nav",15)(22,"ul",16),P(23,ot,3,5,"li",17),r()()}if(o&2){let e=d();l(6),u("ngForOf",e.discounted==null?null:e.discounted.products),l(14),u("ngForOf",e.display==null?null:e.display.products),l(3),u("ngForOf",V(3,Q).constructor(e.totalPages))}}var St=(()=>{let a=class a{constructor(n){this.changeDetector=n,this.httpRequest=C(A),this.categoryRequest=C(U),this.searchService=C(q),this.cartService=C(H),this.alert=C(R),this.wishlist=C(J),this.auth=C(W),this.display=null,this.discounted=null,this.currentCategory=null,this.isCategory=!1,this.search=[],this.forSearch=null,this.addedProduct=[],this.passitemTrack=!1,this.isLoading=!0,this.config={pageIndex:1,pageSize:12,totalItems:0}}ngOnInit(){this.loadProducts(this.config.pageIndex,this.config.pageSize),this.forDiscountedProducts(),this.searchService.searchQuery$.subscribe(t=>{this.searchFun(t)});let n=localStorage.getItem("passitemTrack");n?this.passitemTrack=JSON.parse(n):this.passitemTrack=!1}searchFun(n){let t=this.search.filter(i=>i.title.toLowerCase().includes(n.toLowerCase()));if(n==""){this.forSearch=null;return}t.length>0?this.forSearch=t:this.forSearch=null}loadProducts(n,t){this.httpRequest.getProducts(n,t).subscribe(i=>{this.isLoading=!1,this.display=i,this.search.push(...i.products),this.config.totalItems=i.total,this.isCategory=!1,this.changeDetector.detectChanges()})}forDiscountedProducts(){this.httpRequest.getProducts(1,5).subscribe(n=>{this.discounted=n})}pageChange(n,t){t.preventDefault(),this.config.pageIndex=n,this.isCategory&&this.currentCategory!==null?this.getCategory(this.currentCategory,this.config.pageSize,n):this.loadProducts(n,this.config.pageSize)}getCategory(n,t,i=1){this.config.pageIndex=i,this.categoryRequest.getCategories(n,i,t).subscribe(m=>{this.isCategory=!0,this.currentCategory=n,this.display=m,this.config.totalItems=m.total,i=1})}get totalPages(){return Math.ceil(this.config.totalItems/this.config.pageSize)}passItem(n,t){let i=this.cartService.createCart(n,t);i&&i.subscribe(m=>{console.log(m),console.log(this.passitemTrack),localStorage.setItem("passitemTrack",JSON.stringify(!0))})}getItemCart(){let n=this.cartService.getCart();if(!this.auth.accessToken){console.log("return");return}n&&n.subscribe(t=>{console.log(t)})}deleteCart(){let n=this.cartService.clearCart();n&&(n.subscribe(t=>{console.log(t)}),localStorage.setItem("passitemTrack",JSON.stringify(!1)))}updateCart(n,t){let i=this.cartService.updateCart(n,t);i&&i.subscribe(m=>{console.log("updating"),console.log(m)})}addWishlist(n){this.wishlist.getWishlist(n)}removeFromWishlist(n){this.wishlist.removeItem(n),this.alert.toast("Item removed","success","green")}};a.\u0275fac=function(t){return new(t||a)(y(E))},a.\u0275cmp=b({type:a,selectors:[["app-main"]],standalone:!0,features:[T],decls:3,vars:1,consts:[[1,"loading"],["colorSet","cyan",1,"customLoader"],[1,"discountedProducts"],[1,"discountedSection"],[1,"title"],[1,"sectionCards"],["class","discountedCard",4,"ngFor","ngForOf"],[1,"shopProducts"],[1,"upperContainer"],[1,"wrapper"],[1,"categories"],[1,"categoryHeader"],[3,"click"],[1,"mainProducts"],["class","productCard",4,"ngFor","ngForOf"],["aria-label","page",1,"paginator"],[1,"pagination","pagination-lg"],["class","page-item active",3,"active","disabled",4,"ngFor","ngForOf"],[1,"discountedCard"],[3,"src","alt"],[1,"productPrice"],[1,"discounted"],[3,"routerLink"],[1,"cart",3,"click","disabled"],[1,"cart",3,"click"],[1,"productCard"],[1,"viewProduct",3,"routerLink"],[1,"page-item","active"],["href","#",1,"page-link",3,"click"]],template:function(t,i){t&1&&(c(0,"main"),P(1,B,4,0,"div",0)(2,ct,24,4),r()),t&2&&(l(),x(i.isLoading?1:2))},dependencies:[j,z,L,$,N],styles:["main[_ngcontent-%COMP%]{width:100%;height:100%;padding-top:5%}main[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}main[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .customLoader[_ngcontent-%COMP%]{size:42px}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:200px;height:400px}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .carusel[_ngcontent-%COMP%]{height:500px}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .carusel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]{width:500px;height:500px}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{height:350px;border-radius:10px;box-shadow:1px -1px 17px 1px #0000004d;-webkit-box-shadow:1px -1px 17px 1px rgba(0,0,0,.3);-moz-box-shadow:1px -1px 17px 1px rgba(0,0,0,.3);text-align:center;display:flex;flex-direction:column;gap:25px;padding:10px}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;text-decoration:none;color:#fff;text-transform:uppercase;font-size:26px;width:fit-content;cursor:pointer;border:1px solid darkcyan;width:130px;height:150px;align-items:center;justify-content:center;background-color:#008b8b;transition:.2s ease-in-out}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transition:.2s ease-in-out;background-color:#4682b4}main[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .categoryHeader[_ngcontent-%COMP%]{text-transform:capitalize;color:#fff;background-color:#4682b4}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]{width:100%}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:85%}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]{width:85%;display:flex;flex-wrap:wrap;border-bottom:1px solid black}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:10px;width:320px}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:contain}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]   .productPrice[_ngcontent-%COMP%]{display:flex;gap:10px;font-weight:330}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]   .productPrice[_ngcontent-%COMP%]   .discounted[_ngcontent-%COMP%]{color:red}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{width:50%;border:.1px solid beige;transition:.3s ease-in-out}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]:hover{background-color:#aaa9a9;transition:.3s ease-in-out}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .discountedCard[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]{width:1200px}main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:85%}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]{padding-top:5%;width:100%;display:flex;justify-content:center;justify-content:space-evenly;grid-template-columns:repeat(2,1fr)}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]{display:grid;justify-content:space-evenly;align-items:center;grid-template-columns:repeat(4,1fr)}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:320px}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:contain}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]   .productPrice[_ngcontent-%COMP%]{display:flex;gap:10px;font-weight:330}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]   .productPrice[_ngcontent-%COMP%]   .discounted[_ngcontent-%COMP%]{color:red}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{width:50%;border:.1px solid beige;transition:.3s ease-in-out;width:fit-content}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]:hover{background-color:#aaa9a9;transition:.3s ease-in-out}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]   .productCard[_ngcontent-%COMP%]   .viewProduct[_ngcontent-%COMP%]{display:flex;width:fit-content;text-decoration:none;text-align:center}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{padding-top:3%}main[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:25px}main[_ngcontent-%COMP%]   .searchDropdwon[_ngcontent-%COMP%]{width:250px;height:100%;border-bottom:1px solid black;position:relative;justify-self:center;z-index:1200px}main[_ngcontent-%COMP%]   .searchDropdwon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:0px}main[_ngcontent-%COMP%]   .searchDropdwon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:100px;object-fit:contain}@media screen and (max-width: 1440px){main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (max-width: 1024px){main[_ngcontent-%COMP%]   .discountedProducts[_ngcontent-%COMP%]   .discountedSection[_ngcontent-%COMP%]   .sectionCards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .upperContainer[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{width:100%}main[_ngcontent-%COMP%]   section.shopProducts[_ngcontent-%COMP%]   .mainProducts[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}}"]});let o=a;return o})();export{St as default};
